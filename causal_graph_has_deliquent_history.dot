digraph {
emp_length[label="Employment length"];
state;
is_homeowner;
/*low_income[color=green, style=filled];*/
annual_income[color=green, style=filled];
debt_to_income[label="Debt-to-income ratio"];
num_satisfactory_accounts[label="# Satisfactory accounts"];
num_active_debit_accounts[label="# Active debit accounts"];
total_debit_limit[label="Total debt limit"];
num_cc_carrying_balance[label="Outstanding credit card alance"];
num_mort_accounts[label="# Mortgage accounts"];
loan_amount;
term[label="Loan term"];
interest_rate;
installment[label="# of payment installments"];
balance[label="Current balance"];
paid_total[label="To date total payments"];
credit_line_utilization;
credit_utilization;
cc_utilization;
delinquent_history;
credit_duration;
has_credit_inquiries_last_12m[label="Has credit inquiries in last 12 months"];
has_collection_accounts[label="Has collection accounts"];
has_accounts_opened_24m[label="Has accounts opened in last 2 years"];
has_bankrupt_history[label="Has been bankrupt"];
has_past_due_accounts[label="Has pastdue accounts"];
debt_limit_exceded;
is_bad_loan[color=red,style=filled];
U[label="Unobserved Confounders"];
U -> {is_bad_loan,  delinquent_history, has_collection_accounts};
{emp_length, is_homeowner, low_income} -> is_bad_loan;
{emp_length ,state} -> annual_income;
is_homeowner -> num_mort_accounts;
emp_length -> credit_duration;
has_bankrupt_history -> has_credit_inquiries_last_12m;
debt_limit_exceded -> has_bankrupt_history; has_past_due_accounts -> has_bankrupt_history;
has_collection_accounts -> has_bankrupt_history; delinquent_history -> has_bankrupt_history;
has_bankrupt_history -> is_bad_loan; 
has_collection_accounts -> is_bad_loan;
delinquent_history -> is_bad_loan;
credit_line_utilization -> is_bad_loan; credit_utilization -> is_bad_loan; cc_utilization -> is_bad_loan;
emp_length -> total_debit_limit;
annual_income -> {credit_line_utilization,credit_utilization, cc_utilization,credit_duration };
annual_income -> {num_active_debit_accounts,total_debit_limit };
annual_income -> is_bad_loan;
{has_accounts_opened_24m } -> is_bad_loan;
{loan_amount, term, interest_rate, installment, balance, paid_total} -> is_bad_loan;
{num_cc_carrying_balance,debt_to_income, num_satisfactory_accounts, num_cc_carrying_balance} -> is_bad_loan;
{credit_duration,total_debit_limit, num_active_debit_accounts } -> is_bad_loan;
{num_mort_accounts,has_credit_inquiries_last_12m} -> is_bad_loan;
}